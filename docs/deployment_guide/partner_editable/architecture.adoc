:xrefstyle: short

Deploying this Partner Solution with default parameters builds the following {partner-product-short-name} environment in the
AWS Cloud.

[#architecture1]
.Partner Solution architecture for {partner-product-short-name} on AWS
image::../docs/deployment_guide/images/architecture_diagram.png[Architecture]

As shown in <<architecture1>>, this Partner Solution sets up the following:

* An Amazon API Gateway "readings" resource with GET method that returns paginated smart meter readings.
* An AWS Lambda function to query Amazon Timestream and return paginated results.
* An Amazon API Gateway "readings/file" resource containing:
** A POST method that inserts asynchronous file request messages into an Amazon SQS queue and updates the status in an Amazon DynamoDB table.
** A GET method that returns the details of file requests.
* An Amazon SQS queue that triggers a "Worker" AWS Lambda function.
* A "Worker" AWS Lambda function which queries Amazon Timestream for number of records requested in order pass right-sized parameters to an AWS Glue job.
* An AWS Glue job that:
** Uses a JDBC driver to query Amazon Timestream in parallel with worker nodes.
** Coalesces the query results into a single file that is uploaded to Amazon S3.
** Marks the file request status as "complete" and s3 location in the Amazon DynamoDB table.
* An Amazon Timestream database and table that contains utility smart meter readings.
* An Amazon S3 bucket that contains the readings files that are exported by the AWS Glue job.
* An SFTP file transfer service using AWS Transfer Family and private certificate stored in AWS Secrets Manager used for authentication.